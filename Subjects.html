<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subject Performance - Kindergarten Rapport</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a6da7;
            --primary-dark: #3a5a8f;
            --secondary-color: #5cb85c;
            --secondary-dark: #4cae4c;
            --background-color: #f5f7fa;
            --card-background: #ffffff;
            --text-color: #333333;
            --text-light: #666666;
            --border-color: #e0e0e0;
            --border-radius: 12px;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --background-color: #1a1a2e;
            --card-background: #16213e;
            --text-color: #ffffff;
            --text-light: #b0b0b0;
            --border-color: #3a3a5c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background-color: var(--background-color);
            color: var(--text-color);
            transition: var(--transition);
            padding: 2rem;
        }

        .subject-container {
            max-width: 1200px;
            margin: 0 auto;
            background: linear-gradient(135deg, #fff8f0, #fff0e6);
            border: 2px solid var(--border-color);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 2rem;
            font-weight: 700;
            font-size: 2.5rem;
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .subject-section {
            margin-bottom: 1.5rem;
            background-color: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
        }

        .subject-section:hover {
            border-color: var(--primary-color);
        }

        .subject-title {
            font-weight: 600;
            padding: 1rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            cursor: pointer;
            background: linear-gradient(135deg, #f8f9ff, #ffffff);
            border-bottom: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .subject-title:hover {
            background: linear-gradient(135deg, #e8f0ff, #f0f7ff);
        }

        .subject-title.expanded {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
        }

        .subject-content {
            padding: 1.5rem;
            display: none;
            background-color: var(--card-background);
        }

        .subject-content.expanded {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .subject-description {
            background: linear-gradient(135deg, #f0f8ff, #e6f3ff);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
            font-style: italic;
            color: var(--text-light);
        }        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            flex: 1;
        }

        label {
            font-weight: 500;
            color: var(--text-color);
            font-size: 0.9rem;
        }        input[type="text"], select {
            padding: 0.8rem;
            border-radius: 8px;
            border: 2px solid var(--border-color);
            background-color: var(--card-background);
            color: var(--text-color);
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 109, 167, 0.1);
        }

        .checkbox-custom {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 4px;
            margin-right: 0.5rem;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .checkbox-custom:checked {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }        .checkbox-custom:checked::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 12px;
        }        .activity-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 10px;
            background: linear-gradient(135deg, #f8f9ff, #ffffff);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .activity-label {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: var(--transition);
        }

        .activity-label:hover {
            background: linear-gradient(135deg, #e8f0ff, #f0f7ff);
        }

        .activity-label span {
            line-height: 1.4;
            font-size: 0.9rem;
        }

        .toggle-icon {
            margin-right: 0.5rem;
            transition: transform 0.3s ease;
            font-size: 0.8rem;
        }

        .expanded .toggle-icon {
            transform: rotate(90deg);
        }

        .stats {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .stats h3 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .stats .count {
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary-color);
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }
            
            .subject-container {
                padding: 1rem;
            }
              h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="subject-container">
        <h1><i class="fas fa-book"></i> Subject Performance</h1>
        
        <div class="stats">
            <h3>Selected Subjects</h3>
            <div class="count" id="selected-subjects-count">0</div>
        </div>

        <!-- ENGLISH -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="english-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-language"></i> ENGLISH
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Develops early literacy skills through letter recognition, vocabulary building, and foundational reading activities.
                </div>
                  <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="english-activity-1">
                            <span>Draw lines to match the letter with the correct picture</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="english-activity-2">
                            <span>Trace the letter and color</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="english-activity-3">
                            <span>Draw lines to match the same letters</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- PHONICS -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="phonics-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-spell-check"></i> PHONICS
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Focuses on letter recognition, sound awareness, and beginning reading skills through fun activities and games.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="phonics-activity-1">
                            <span>Letter A-E</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="phonics-activity-2">
                            <span>Revision A/B/C</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="phonics-vocabulary">
                            <span>Vocabulary mastery: Annie Ant-Axe, Benny Bear-Ball, Candy Cat-Cut, Danny Dog-Dig, Eddie Elephant-Egg</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- MATHEMATICS -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="mathematics-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-calculator"></i> MATHEMATICS
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Introduces basic number concepts, counting, simple operations, and mathematical thinking through hands-on activities.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="mathematics-activity-1">
                            <span>Count from 1-10</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="mathematics-activity-2">
                            <span>Trace numbers 1-3 following the dotted line and colouring the correct amount of pictures</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="mathematics-activity-3">
                            <span>Place the correct amount of pictures in the boxes</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="mathematics-activity-4">
                            <span>Counting from 1-10 with our fingers</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="mathematics-vocabulary">
                            <span>Vocabulary mastery: One â€“ ten</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- I.Q -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="iq-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-brain"></i> I.Q (Cognitive Development)
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Assesses problem-solving skills, logical thinking, pattern recognition, and cognitive development milestones.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="iq-activity-1">
                            <span>Animal and their food and different food that animals can eat</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="iq-activity-2">
                            <span>Shapes and colours</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="iq-activity-3">
                            <span>Objects in the Dining Room/ Bathroom</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- SOCIAL STUDIES -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="social-studies-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-globe"></i> SOCIAL STUDIES
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Explores community, family roles, cultural awareness, and basic social concepts through interactive learning.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="social-studies-activity-1">
                            <span>Farm animals- characteristic, abilities</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="social-studies-activity-2">
                            <span>sounds, food, offsprings (babies)</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="social-studies-activity-3">
                            <span>My Body- My face</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- SCIENCE -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="science-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-flask"></i> SCIENCE
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Encourages curiosity about the natural world through simple experiments, observations, and discovery activities.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="science-activity-1">
                            <span>Floating Sinking eggs- Introducing the concept of buoyancy and how salt affects water density</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="science-activity-2">
                            <span>Green beans dancing (soda)- Introducing the effects of gas buoyancy with soda water</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="science-activity-3">
                            <span>The Rock is light- Introducing the effects of buoyancy with water</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- CONVERSATION -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="conversation-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-comments"></i> CONVERSATION
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Develops verbal communication skills, listening abilities, and confidence in expressing ideas and thoughts.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="conversation-activity-1">
                            <span>How old are you? - I am three years old</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="conversation-activity-2">
                            <span>What do you do in the morning? â€“ I wake up</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="conversation-activity-3">
                            <span>What do you do after eating? -I brush my teeth</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- ARTS -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="arts-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-palette"></i> ARTS
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Nurtures creativity and self-expression through drawing, painting, crafts, and various artistic activities.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="arts-activity-1">
                            <span>Paper caterpillar making</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="arts-activity-2">
                            <span>Origami- Fox, Frog, Ice-cream</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="arts-activity-3">
                            <span>Cotton ball sheep</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- PHYSICAL EDUCATION -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="pe-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-running"></i> PHYSICAL EDUCATION
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Promotes physical development, coordination, teamwork, and healthy habits through games and activities.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="pe-activity-1">
                            <span>Pass the ball</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="pe-activity-2">
                            <span>Roll the ball</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="pe-activity-3">
                            <span>Drop and catch the ball</span>
                        </label>
                    </div>                </div>
            </div>
        </div><!-- PUPPET SHOW -->
        <div class="subject-section">
            <div class="subject-title" onclick="toggleSubject(this)">
                <i class="fas fa-chevron-right toggle-icon"></i>
                <input type="checkbox" class="checkbox-custom" id="puppet-checkbox" onclick="event.stopPropagation();">
                <i class="fas fa-theater-masks"></i> PUPPET SHOW
            </div>
            <div class="subject-content">
                <div class="subject-description">
                    Enhances imagination, storytelling abilities, and social skills through puppet play and dramatic activities.
                </div>
                <!-- Activity Checkboxes -->
                <div class="form-group">
                    <label>Activity Completion</label>
                    <div class="activity-grid">
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="puppet-activity-1">
                            <span>Three little pigs</span>
                        </label>
                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="puppet-activity-2">
                            <span>The Red riding hood</span>
                        </label>                        <label class="activity-label">
                            <input type="checkbox" class="checkbox-custom" id="puppet-activity-3">
                            <span>the panicked rabbit</span>
                        </label>
                    </div>                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the subjects application
        document.addEventListener('DOMContentLoaded', function() {
            initializeSubjects();
            updateSelectedCount();
        });        function initializeSubjects() {
            // Initialize checkboxes only
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    updateSelectedCount();
                    notifyParent();
                });
            });
        }

        function toggleSubject(element) {
            const content = element.nextElementSibling;
            const isExpanded = element.classList.contains('expanded');
            
            if (isExpanded) {
                element.classList.remove('expanded');
                content.classList.remove('expanded');
                content.style.display = 'none';
            } else {
                element.classList.add('expanded');
                content.style.display = 'block';
                content.classList.add('expanded');
            }
        }

        function updateSelectedCount() {
            const selectedCount = document.querySelectorAll('input[type="checkbox"]:checked').length;
            document.getElementById('selected-subjects-count').textContent = selectedCount;
        }

        function notifyParent() {
            // Notify parent window of changes
            if (window.parent && window.parent !== window) {
                window.parent.postMessage({
                    type: 'subjectsUpdated',
                    data: getSubjectData()
                }, '*');
            }
        }        function getSubjectData() {
            const subjects = [
                'phonics', 'mathematics', 'iq', 'social-studies', 'science', 
                'conversation', 'arts', 'pe', 'puppet', 'english'
            ];
              const data = {};
            subjects.forEach(subject => {
                const checkbox = document.getElementById(`${subject}-checkbox`);
                
                // Define subject names
                const subjectNames = {
                    'english': 'English',
                    'phonics': 'Phonics',
                    'mathematics': 'Mathematics',
                    'iq': 'I.Q (Cognitive Development)',
                    'social-studies': 'Social Studies',
                    'science': 'Science',
                    'conversation': 'Conversation',
                    'arts': 'Arts',
                    'pe': 'Physical Education',
                    'puppet': 'Puppet Show'
                };
                
                data[subject] = {
                    id: subject,
                    name: subjectNames[subject] || subject,
                    checked: checkbox ? checkbox.checked : false,
                    activities: {}
                };
                  // Collect activity checkboxes for each subject
                if (subject === 'english') {
                    data[subject].activities = {
                        activity1: document.getElementById('english-activity-1')?.checked || false,
                        activity2: document.getElementById('english-activity-2')?.checked || false,
                        activity3: document.getElementById('english-activity-3')?.checked || false
                    };
                } else if (subject === 'phonics') {
                    data[subject].activities = {
                        activity1: document.getElementById('phonics-activity-1')?.checked || false,
                        activity2: document.getElementById('phonics-activity-2')?.checked || false,
                        vocabulary: document.getElementById('phonics-vocabulary')?.checked || false
                    };
                } else if (subject === 'mathematics') {
                    data[subject].activities = {
                        activity1: document.getElementById('mathematics-activity-1')?.checked || false,
                        activity2: document.getElementById('mathematics-activity-2')?.checked || false,
                        activity3: document.getElementById('mathematics-activity-3')?.checked || false,
                        activity4: document.getElementById('mathematics-activity-4')?.checked || false,
                        vocabulary: document.getElementById('mathematics-vocabulary')?.checked || false
                    };
                } else if (subject === 'iq') {
                    data[subject].activities = {
                        activity1: document.getElementById('iq-activity-1')?.checked || false,
                        activity2: document.getElementById('iq-activity-2')?.checked || false,
                        activity3: document.getElementById('iq-activity-3')?.checked || false
                    };
                } else if (subject === 'social-studies') {
                    data[subject].activities = {
                        activity1: document.getElementById('social-studies-activity-1')?.checked || false,
                        activity2: document.getElementById('social-studies-activity-2')?.checked || false,
                        activity3: document.getElementById('social-studies-activity-3')?.checked || false
                    };
                } else if (subject === 'science') {
                    data[subject].activities = {
                        activity1: document.getElementById('science-activity-1')?.checked || false,
                        activity2: document.getElementById('science-activity-2')?.checked || false,
                        activity3: document.getElementById('science-activity-3')?.checked || false
                    };
                } else if (subject === 'conversation') {
                    data[subject].activities = {
                        activity1: document.getElementById('conversation-activity-1')?.checked || false,
                        activity2: document.getElementById('conversation-activity-2')?.checked || false,
                        activity3: document.getElementById('conversation-activity-3')?.checked || false
                    };
                } else if (subject === 'arts') {
                    data[subject].activities = {
                        activity1: document.getElementById('arts-activity-1')?.checked || false,
                        activity2: document.getElementById('arts-activity-2')?.checked || false,
                        activity3: document.getElementById('arts-activity-3')?.checked || false
                    };
                } else if (subject === 'pe') {
                    data[subject].activities = {
                        activity1: document.getElementById('pe-activity-1')?.checked || false,
                        activity2: document.getElementById('pe-activity-2')?.checked || false,
                        activity3: document.getElementById('pe-activity-3')?.checked || false
                    };
                } else if (subject === 'puppet') {
                    data[subject].activities = {
                        activity1: document.getElementById('puppet-activity-1')?.checked || false,
                        activity2: document.getElementById('puppet-activity-2')?.checked || false,
                        activity3: document.getElementById('puppet-activity-3')?.checked || false
                    };
                }
            });
            
            return data;
        }        function setSubjectData(data) {
            Object.keys(data).forEach(subject => {
                const checkbox = document.getElementById(`${subject}-checkbox`);
                
                if (checkbox && data[subject].checked !== undefined) {
                    checkbox.checked = data[subject].checked;
                }
                
                // Handle activity checkboxes for all subjects
                if (data[subject].activities) {
                    const activities = data[subject].activities;
                    Object.keys(activities).forEach(activityKey => {
                        const activityCheckbox = document.getElementById(`${subject}-${activityKey}`);
                        if (activityCheckbox && activities[activityKey] !== undefined) {
                            activityCheckbox.checked = activities[activityKey];
                        }
                    });
                }
            });
            
            updateSelectedCount();
        }        function clearSubjectData() {
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            updateSelectedCount();
        }

        // Expose functions for parent window
        window.getSubjectData = getSubjectData;
        window.setSubjectData = setSubjectData;
        window.clearSubjectData = clearSubjectData;
    </script>
</body>
</html>
