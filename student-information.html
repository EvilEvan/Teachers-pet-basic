<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kindergarten Report Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #34495e;
        }
        
        input[type="text"], textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        textarea {
            height: 80px;
            resize: vertical;
        }
        .slider-container {
            margin-top: 10px;
        }
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
        }
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
            border: none;
        }
        .slider-value {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #3498db;
            margin-top: 5px;
        }
        .button {
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background-color 0.3s;
        }
        .button:hover {
            background-color: #2980b9;
        }
        .button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        .button-secondary {
            background-color: #27ae60;
        }
        .button-secondary:hover {
            background-color: #229954;
        }
        .navigation {
            text-align: center;
            margin: 30px 0;
        }
        .comments-section {
            margin-top: 30px;
            border-top: 2px solid #ecf0f1;
            padding-top: 30px;
        }
        .comment-box {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            min-height: 100px;
        }
        .comment-option {
            margin: 15px 0;
            padding: 15px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            background: #f8f9fa;
        }
        .comment-option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }
        .hidden {
            display: none;
        }
        .status-indicator {
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 14px;
            margin-left: 10px;
        }        .status-pending {
            background: #f39c12;
            color: white;
        }
        
        .status-complete {
            background: #27ae60;
            color: white;
        }        .quick-select-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .quick-select-btn:hover {
            background: #c0392b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Kindergarten Report Generator</h1>
        
        <form id="studentForm">
            <div class="form-group">
                <label for="studentName">Student Name:</label>
                <input type="text" id="studentName" name="studentName" required>
            </div>            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" required style="width: 100%; padding: 10px; border: 2px solid #bdc3c7; border-radius: 5px; font-size: 16px; box-sizing: border-box;">
                    <option value="">Select gender...</option>
                    <option value="he">He</option>
                    <option value="she">She</option>
                    <option value="they">They</option>
                </select>
            </div>            <div class="form-group">
                <label for="strengths">Strengths:</label>
                <div style="margin-bottom: 10px;">
                    <label style="font-weight: normal; margin-bottom: 5px;">Quick Select:</label>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Creative thinking')" style="background: #27ae60;">Creative thinking</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Strong social skills')" style="background: #27ae60;">Strong social skills</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Good listening skills')" style="background: #27ae60;">Good listening skills</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Excellent fine motor skills')" style="background: #27ae60;">Excellent fine motor skills</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Strong verbal expression')" style="background: #27ae60;">Strong verbal expression</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Curious and inquisitive')" style="background: #27ae60;">Curious and inquisitive</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Helpful and kind')" style="background: #27ae60;">Helpful and kind</button>
                        <button type="button" class="quick-select-btn" onclick="addToStrengths('Shows leadership qualities')" style="background: #27ae60;">Shows leadership qualities</button>
                    </div>
                </div>
                <textarea id="strengths" name="strengths" placeholder="List the student's key strengths..."></textarea>
            </div><div class="form-group">
                <label for="weaknesses">Areas for Improvement:</label>
                <div style="margin-bottom: 10px;">
                    <label style="font-weight: normal; margin-bottom: 5px;">Quick Select:</label>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px;">
                        <button type="button" class="quick-select-btn" onclick="addToAreas('Refining motor skills')">Refining motor skills</button>
                        <button type="button" class="quick-select-btn" onclick="addToAreas('Refining social awareness')">Refining social awareness</button>
                        <button type="button" class="quick-select-btn" onclick="addToAreas('Refining spatial awareness')">Refining spatial awareness</button>
                    </div>
                </div>
                <textarea id="weaknesses" name="weaknesses" placeholder="List areas where the student can improve..."></textarea>
            </div>

            <div class="form-group">
                <label for="overallAttributes">Overall Attributes (1-10):</label>
                <div class="slider-container">
                    <input type="range" id="overallAttributes" name="overallAttributes" min="1" max="10" value="5" class="slider">
                    <div class="slider-value" id="sliderValue">5</div>
                </div>
            </div>        </form>
        
        <div class="navigation">
            <button type="button" class="button button-secondary" onclick="goToSubjects()">
                Continue to Subject Selection â†’
                <span id="subjectsStatus" class="status-indicator status-pending">Required</span>
            </button>
        </div>

        <div class="info-section" style="background: #e8f4fd; padding: 20px; border-radius: 5px; margin-top: 20px; border-left: 4px solid #3498db;">
            <h3 style="color: #2c3e50; margin-top: 0;">Next Steps:</h3>
            <p style="color: #7f8c8d; margin-bottom: 0;">After completing this form, you'll select subjects and topics to include in the report, then generate personalized comments.</p>
        </div>
    </div>

    <script>
        // Update slider value display
        document.getElementById('overallAttributes').addEventListener('input', function() {
            document.getElementById('sliderValue').textContent = this.value;
            saveFormData();
        });        // Save form data on input
        document.addEventListener('input', saveFormData);
        document.addEventListener('change', saveFormData);

        function saveFormData() {
            const formData = {
                studentName: document.getElementById('studentName').value,
                gender: document.getElementById('gender').value,
                strengths: document.getElementById('strengths').value,
                weaknesses: document.getElementById('weaknesses').value,
                overallAttributes: document.getElementById('overallAttributes').value
            };
            localStorage.setItem('studentData', JSON.stringify(formData));            checkFormComplete();
        }

        function loadFormData() {
            const saved = localStorage.getItem('studentData');
            if (saved) {
                const data = JSON.parse(saved);
                document.getElementById('studentName').value = data.studentName || '';
                document.getElementById('strengths').value = data.strengths || '';
                document.getElementById('weaknesses').value = data.weaknesses || '';
                document.getElementById('overallAttributes').value = data.overallAttributes || '5';
                document.getElementById('sliderValue').textContent = data.overallAttributes || '5';
                document.getElementById('gender').value = data.gender || '';
            }
            checkSubjectsStatus();
            checkFormComplete();
        }

        function checkSubjectsStatus() {
            const subjects = localStorage.getItem('selectedSubjects');
            const subjectTitles = localStorage.getItem('selectedSubjectTitles');
            const statusIndicator = document.getElementById('subjectsStatus');
            
            if ((subjects && JSON.parse(subjects).length > 0) || (subjectTitles && JSON.parse(subjectTitles).length > 0)) {
                statusIndicator.textContent = 'Complete';
                statusIndicator.className = 'status-indicator status-complete';
            } else {
                statusIndicator.textContent = 'Required';
                statusIndicator.className = 'status-indicator status-pending';            }
        }

        function checkFormComplete() {
            const name = document.getElementById('studentName').value;
            const gender = document.getElementById('gender').value;
            
            // Enable continue button if basic info is complete
            const continueBtn = document.querySelector('.button-secondary');
            if (name && gender) {
                continueBtn.style.opacity = '1';
                continueBtn.style.pointerEvents = 'auto';
            } else {
                continueBtn.style.opacity = '0.6';
                continueBtn.style.pointerEvents = 'none';            }
        }

        function goToSubjects() {
            const name = document.getElementById('studentName').value;
            const gender = document.getElementById('gender').value;
            
            if (!name || !gender) {
                alert('Please complete the student name and gender selection before continuing.');
                return;
            }
            
            saveFormData();
            window.location.href = 'Subjects.html';
        }        function addToAreas(text) {
            const textarea = document.getElementById('weaknesses');
            const currentValue = textarea.value.trim();
            
            // Check if the text is already in the textarea
            if (currentValue.includes(text)) {
                return; // Don't add duplicate
            }
            
            // Add the text with appropriate formatting
            if (currentValue === '') {
                textarea.value = text;
            } else {
                textarea.value = currentValue + ', ' + text;
            }
            
            // Save the updated data
            saveFormData();
        }

        function addToStrengths(text) {
            const textarea = document.getElementById('strengths');
            const currentValue = textarea.value.trim();
            
            // Check if the text is already in the textarea
            if (currentValue.includes(text)) {
                return; // Don't add duplicate
            }
            
            // Add the text with appropriate formatting
            if (currentValue === '') {
                textarea.value = text;
            } else {
                textarea.value = currentValue + ', ' + text;
            }
            
            // Save the updated data
            saveFormData();
        }

        // Load saved data on page load
        window.addEventListener('load', loadFormData);
        
        // Check for updates when returning from subjects page
        window.addEventListener('focus', function() {
            checkSubjectsStatus();
            checkFormComplete();
        });
    </script>
</body>
</html>
